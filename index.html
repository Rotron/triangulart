<html>
<head>
  <!-- Head (banging?) -->
  <title>triangulart - isometric graphic editor</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"/>

  <!-- Le style -->
  <link rel="stylesheet" href="style.css" media="screen" charset="utf-8">
  <link rel="stylesheet" type="text/css" href="src/components/launcher/launcher.component.css">
  <link rel="stylesheet" type="text/css" href="src/components/launcher/newCanvasForm/gridOrientationPicker/gridOrientationPicker.component.css">
  <link rel="stylesheet" type="text/css" href="src/components/launcher/newCanvasForm/newCanvasForm.component.css">
  <link rel="stylesheet" type="text/css" href="src/components/launcher/workspaceBrowser/workspaceBrowser.component.css">

  <style id="outline-style"></style>

    <!-- Le script -->
  <script type="text/javascript" src="vendor/vuejs.2.3.4.js"></script>
  <script src="triangulr.js"></script>
  <script src="toolbar.js"></script>

  <script src="src/services/storage.js"></script>

  <script src="src/components/launcher/newCanvasForm/gridOrientationPicker/gridOrientationPicker.component.js"></script>
  <script src="src/components/launcher/newCanvasForm/newCanvasForm.component.js"></script>
  <script src="src/components/launcher/intro/fileLoad/fileLoad.component.js"></script>
  <script src="src/components/launcher/intro/intro.component.js"></script>
  <script src="src/components/launcher/workspaceBrowser/workspaceBrowser.component.js"></script>
  <script src="src/components/launcher/launcher.component.js"></script>
  
</head>
<body>

  <div id="app">
    <launcher></launcher>
  </div>
  

<!--   <div class="setup grid" id="setup">
    <div class="row">
      
      <object data="assets/triangulart_logo.svg" type="image/svg+xml" class="intro-logo"></object>
      <div>
        <gogo xx="hallo"></gogo>
        <h1>triangulart</h1>
        <p>This is a silly graphic editor build in JavaScript to create isometric illustrations.<br>Triangulart is like pixel art but for triangles.</p>
      </div>
    </div>
    <div class="row row-balanced">
      <div class="intro-selection-box">Load from a file</div>
      <div class="intro-selection-box">Start a new one</div>
      <div class="intro-selection-box">Load from previous <span style="background-color: red; color: white;" v-if="projectsAvalable" :text-content.prop="projectsAvalable" @click="alertMe"></span></div>
    </div>
    <div class="row">
      <div class="field">
        <input type="number" id="setup-width" value="30" min="1"/>
        <label for="setup-width">↔ Map width</label>
      </div>

      <div class="field">
        <input type="number" id="setup-height" value="20" min="1"/>
        <label for="setup-width">↕ Map height</label>
      </div>

    </div>




    <div class="form">
      <div></div>
      <object data="assets/triangulart_logo.svg" type="image/svg+xml" ></object>
      <h1>Triangulart</h1>
      <p>This is a silly graphic editor build in JavaScript to create isometric illustrations. Triangulart is like pixel art but for triangles.<br><i>This webapp does not work with touchscreen devices, for now.</i></p>
      <hr>
      <div class="fields">
        <div class="field">
          <input type="number" id="setup-width" value="30" min="1"/>
          <label for="setup-width">Map width</label>
        </div>

        <div class="field">
          <input type="number" id="setup-height" value="20" min="1"/>
          <label for="setup-width">Map height</label>
        </div>

        <div class="field">
          <input type="number" id="setup-triangle-height" value="30" min="1"/>
          <label for="setup-width">Line height (px)</label>
        </div>
      </div>
      

      <div class="field-orientation">
        <label for="setup-orientation-landscape">
          <input type="radio" name="oriantation" id="setup-orientation-landscape" value="landscape" checked="checked"/>
          <svg alt="Orientation landscape" width="120" height="90">
            <use xlink:href="#grid-landscape"></use>
          </svg>
        </label>
        <label for="setup-orientation-portrait">
          <input type="radio" name="oriantation" id="setup-orientation-portrait" value="portrait"/>
          <svg alt="Orientation portrait" width="120" height="90">
            <use xlink:href="#grid-portrait"></use>
          </svg>
        </label>
      </div>

      <button class="button-group" onclick="setup()">Start</button>
    </div>
  </div>

  <div class="playground" id="playground"></div>


  <div class="toolbar">

    <div class="leftbar">
      <div class="button-group">
        <button type="button" onclick="controller.eraseMode();">
          <svg class="icon">
            <use xlink:href="#icon-eraser"></use>
          </svg>
        </button>
      </div>
      <div class="button-group">
        <input type="color" id="color-picker" class="color-picker" onchange="controller.updateCurrentColor();" onclick="controller.updateCurrentColor();"/><button type="button" onclick="controller.addColor();">+</button>
      </div>
      <div class="colorlist" id="color-list"></div>
    </div>



    <div class="rightbar">
      <div class="button-group">
        <button type="button" onclick="controller.toggleOutline();">outline</button>
      </div>
      <div class="button-group">
        <button type="button" onclick="controller.load();">load</button><button type="button" onclick="controller.save();">save</button>
      </div>
      <div class="button-group">
        <button type="button" onclick="controller.exportSVG();">export (SVG)</button>
      </div>
      <a href="https://github.com/maxwellito/triangulart">
        <svg class="icon">
          <use xlink:href="#icon-github"></use>
        </svg>
      </a>
    </div>
  </div>
   -->


  <!-- Le symbols -->
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
    <symbol id="action-import" viewBox="0 0 48 48">
      <g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" >
        <polyline points="30,14 38,14 38,35 30,43 10,43 10,14 18,14"/>
        <polyline points="38,35 30,35 30,43"/>
        <polyline points="18,9 24,3 30,9"/>
        <line x1="24" y1="3" x2="24" y2="25"/>
      </g>
    </symbol>

    <symbol id="action-floppydisk" viewBox="0 0 48 48">
      <g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" >
        <polygon points="42,42 6,42 6,6 36,6 42,12"/>
        <rect x="15" y="6" width="18" height="12"/>
        <rect x="10" y="22" width="28" height="20"/>
        <rect x="26" y="9" width="4" height="6"/>
      </g>
    </symbol>

    <symbol id="action-add" viewBox="0 0 48 48">
      <g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" >
        <polygon points="14,41 4,24 14,7 34,7 44,24 34,41"/>
        <line x1="17" y1="24" x2="31" y2="24"/>
        <line x1="24" y1="31" x2="24" y2="17"/>
      </g>
    </symbol>

    <symbol id="icon-eraser" viewBox="0 0 16 16">
      <line fill="none" stroke="#000000" stroke-miterlimit="10" x1="8" y1="13.5" x2="15" y2="13.5"/>
      <path d="M14.36,6.88c0.39,0.39,0.39,1.02,0,1.41l-3.53,3.54L5.18,6.18l3.53-3.54c0.39-0.39,1.021-0.39,1.41,0L14.36,6.88z"/>
      <path fill="none" stroke="#000000" stroke-miterlimit="10" d="M5.18,6.18l3.53-3.54c0.39-0.39,1.021-0.39,1.41,0l4.24,4.24 c0.39,0.39,0.39,1.02,0,1.41l-3.53,3.54L9.16,13.5H4.01l-2.37-2.38c-0.39-0.39-0.39-1.021,0-1.41L5.18,6.18z"/>
    </symbol>

    <symbol viewBox="0 0 128 128" id="icon-github">
      <path d="M115.9,35.4c-5.3-9.2-12.6-16.5-21.8-21.8c-9.2-5.4-19.2-8-30.1-8c-10.9,0-20.9,2.7-30.1,8C24.7,18.9,17.4,26.2,12,35.4 c-5.3,9.2-8,19.3-8,30.1c0,13.1,3.8,24.9,11.4,35.3c7.7,10.4,17.5,17.7,29.6,21.7c1.4,0.3,2.5,0.1,3.1-0.5c0.7-0.6,1-1.4,1-2.4 v-4.2l-0.1-7l-1.8,0.3c-1.1,0.3-2.6,0.3-4.4,0.3c-1.7,0-3.6-0.2-5.4-0.5c-1.9-0.3-3.6-1.1-5.3-2.3c-1.6-1.2-2.7-2.8-3.4-4.8 L28,99.5c-0.5-1.2-1.3-2.5-2.5-4c-1.1-1.5-2.2-2.5-3.4-3l-0.5-0.4c-0.4-0.3-0.7-0.5-1-0.9c-0.3-0.4-0.5-0.7-0.7-1.1 c-0.1-0.4,0-0.7,0.4-0.9c0.4-0.3,1.2-0.4,2.2-0.4l1.6,0.3c1,0.2,2.3,0.8,3.8,1.8c1.6,1,2.8,2.4,3.8,4.1c1.2,2.1,2.6,3.7,4.3,4.8 c1.7,1.1,3.4,1.6,5.1,1.6c1.7,0,3.2-0.1,4.5-0.4c1.2-0.2,2.4-0.6,3.5-1.1c0.5-3.5,1.8-6.2,3.8-8c-3-0.3-5.6-0.8-8-1.4 c-2.4-0.7-4.8-1.6-7.3-3.1c-2.5-1.4-4.7-3.1-6.3-5.2c-1.6-2.1-3-4.8-4.1-8.2c-1.1-3.4-1.6-7.3-1.6-11.7c0-6.3,2.1-11.7,6.2-16.1 c-1.9-4.7-1.8-10,0.5-16c1.5-0.4,3.7-0.1,6.7,1.1c3,1.2,5.1,2.2,6.5,3c1.4,0.8,2.5,1.5,3.3,2.1c4.8-1.4,9.9-2,15-2 c5.1,0,10.1,0.7,15,2l3-1.9c2-1.3,4.4-2.5,7.2-3.5c2.7-1,4.9-1.4,6.3-0.8c2.4,5.9,2.6,11.2,0.7,15.9c4.1,4.5,6.2,9.9,6.2,16.1 c0,4.4-0.5,8.3-1.6,11.8c-1,3.4-2.4,6.1-4.1,8.2c-1.7,2-3.8,3.8-6.3,5.1c-2.6,1.5-5,2.5-7.4,3.1c-2.4,0.6-5,1.1-8,1.4 c2.7,2.4,4.1,6.1,4.1,11.1v16.5c0,0.9,0.3,1.7,1,2.4c0.7,0.6,1.6,0.8,3.1,0.5c12-4,21.9-11.2,29.6-21.7 c7.7-10.4,11.4-22.2,11.4-35.3C124,54.7,121.3,44.6,115.9,35.4L115.9,35.4z"/>
    </symbol>
  </svg>

  <!-- Le script -->

  <script type="text/javascript">

    // var app2 = new Vue({
    //   el: '#setup',
    //   data: {
    //     projectsAvalable: 2
    //   },
    //   methods: {
    //     alertMe: function () {
    //       alert(this.projectsAvalable)
    //     }
    //   }
    // })
    // 
    
    new Vue({
      el: '#app'
    })

    var playground, controller;

    function setup () {
      var width  = document.getElementById('setup-width').value,
          height = document.getElementById('setup-height').value,
          triangleHeight = 30,//document.getElementById('setup-triangle-height').value,
          isLandscape = document.getElementById('setup-orientation-landscape').checked;

      if (width < 1 || height < 1 || triangleHeight < 1) {
        alert('Please set positive values');
        return;
      }

      document.getElementById('setup').remove();

      playground = new Triangulr('playground');
      playground.setCanvas(width, height, triangleHeight, isLandscape);
      controller = new Toolbar(playground);
    }

    // Prevent quit
    //# TEMP: enable the unload warning
    // window.onbeforeunload = function() {
    //   return "All current work will be destroyed and lost. Be sure you have saved or exported your work.";
    // }
  </script>
</body>
</html>
